{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container"><br>
  <div class="row m-3">
    <div class="col-lg-1">
    </div>
    <!-- post center side  -->
    <div class="col-lg-9">
      <!-- post creation form  -->
      <form action="" method="POST" class="border p-3" enctype="multipart/form-data">
        {% csrf_token %}
        {{form.as_p}}
        <input class="btn btn-primary mt-2" type="submit" name="Post" id="Post" value="Create Post">
      </form>

      <!-- data rendering of post  -->
      {% for post in Post reversed %}
      {% if post.postImage %}
      <br>
      <div class="card w-100 p-2" style="width: 18rem;">
        <h4 class="p-2 text-uppercase">{{post.user}}</h4>
        <img class="card-img-top" src="media/{{post.postImage}}" alt="Card image cap">
        <hr>
        <div class="card-body">
          <p class="card-text">{{ post.postText }}</p>
        </div>
        <div class="row">
          <button type="button" class="btn btn-primary col-4 mr-2 m-2">Likes({{post.postLikes.count}})</button>
          <button type="button" class="btn btn-primary col-4 m-2"><a href="{% url 'comments' %}">Comments</a></button>
        </div>
      </div>
      {% elif post.postImage == "" %}
      <br>
      <div class="card w-100 p-2" style="width: 18rem;">
        <h4 class="p-2 text-uppercase">{{post.user}}</h4>
        <div class="card-body">
          <p class="card-text">{{ post.postText }}</p>
        </div>
        <div class="row">
          <button type="button" class="btn btn-primary col-4 mr-2 m-2">Likes({{post.postLikes.count}})</button>
          <button type="button" class="btn btn-primary col-4 m-2"><a href="{% url 'comments' %}">Comments</a></button>
          </div>
      </div>
      {% endif %}
      {% endfor %}
    </div>

    <!-- side bar  -->
    <div class="col-lg-1">
      <div class="card" style="width: 18rem;">
        <div class="card-header">
          Featured
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><a href="">News Feeds</a></li>
          <li class="list-group-item"><a href="{% url 'mypost' %}">My post</a></li>
          <li class="list-group-item"><a href="">Find Others</a></li>
          <li class="list-group-item"><a href="">Friend Request</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock content  %}